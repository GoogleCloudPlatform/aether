module KVCache;

import Types;

pub struct KVCacheHandle {
    session_id: Types.SessionId,
    layer_idx: Int,
}

pub trait KVCacheManager {
    func allocate(
        self: &Self, 
        session_id: Types.SessionId, 
        num_layers: Int, 
        seq_len: Int
    ) -> Array<KVCacheHandle>;

    func resize(self: &Self, session_id: &Types.SessionId, new_len: Int) -> Void;
    func evict(self: &Self, session_id: &Types.SessionId) -> Void;
}